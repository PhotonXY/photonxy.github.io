/* Theme */
:root{ --pad:12px; --gap:10px; --radius:10px; --muted:#6b7280; --line:#e5e7eb; --bg:#f6f8fb; --surface:#ffffff; --text:#0f172a; --primary:#0ea5e9; --primary-600:#0284c7; --danger:#ef4444; }
*{ box-sizing:border-box; }
body{ margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; background:var(--bg); color:var(--text); }
/* Responsive type scale */
html{ font-size:clamp(14px, 1.6vw, 16px); }

/* App bar */
.appbar{ position:sticky; top:0; z-index:10; display:flex; align-items:center; justify-content:space-between; gap:var(--gap); padding:14px 18px; background:var(--surface); border-bottom:1px solid var(--line); }
.brand{ font-weight:600; font-size:clamp(20px, 2.4vw, 28px); letter-spacing:.2px; }
.controls{ display:flex; gap:var(--gap); align-items:center; flex-wrap:wrap; }

/* Layout */
main{ padding:18px; max-width:1200px; margin:0 auto; }
.grid{ display:grid; gap:1rem; margin-bottom:1rem; }
.grid.resp{ grid-template-columns:1fr; }
/* Einheitliche volle Breite f√ºr alle Karten wie Admin */
@media(min-width:1024px){ .grid.resp{ grid-template-columns:1fr; } }

/* Admin sub-windows container */
#adminGrid{ display:flex; flex-direction:column; gap:1rem; }
#adminGrid > .card{ flex:1 1 100%; min-width:100%; }
@media(max-width:640px){ #adminGrid > .card{ min-width:100%; } }

/* Make the main grid flex to allow widths and wrapping */
#mainGrid{ display:flex; flex-wrap:wrap; gap:1rem; }
#mainGrid > .card{ flex:1 1 var(--card-basis, 100%); }
@media(max-width:640px){ #mainGrid > .card{ flex-basis:100% !important; } }
.grid.cols-2{ grid-template-columns:repeat(2,1fr); }
.grid.cols-3{ grid-template-columns:repeat(3,1fr); }
.card{ background:var(--surface); border:1px solid var(--line); border-radius:var(--radius); padding:var(--pad); }
.card > .section-title{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; border-bottom:1px solid var(--line); padding-bottom:6px; margin-bottom:8px; }
.win-actions{ display:inline-flex; gap:6px; align-items:center; }
.win-btn{ border:none; background:transparent; color:var(--text); padding:0 4px; font-size:16px; line-height:1; cursor:pointer; border-radius:6px; }
.win-btn:hover{ background:rgba(2,8,23,0.06); }
.win-btn.close{ color:var(--text); }
.win-btn.open{ color:var(--text); }

/* Collapse behavior for all cards */
.card.collapsed > :not(.section-title){ display:none !important; }
.card.collapsed{ padding:8px var(--pad); }
.card.collapsed > .section-title{ margin-bottom:0; }
.card{ position:relative; }
.card[draggable="true"]{ cursor:move; }
.card.dragging{ opacity:.6; }
.card.drop-target{ outline:2px dashed var(--primary); outline-offset: -2px; }
.card.drop-above::before, .card.drop-below::after{
  content:""; display:block; height:0; border-top:2px solid var(--primary);
}
.card.drop-below::after{ margin-top:8px; }

/* Resize handle */
.resize-handle{ position:absolute; top:0; right:0; width:10px; height:100%; cursor:col-resize; opacity:.25; border-top-right-radius:var(--radius); border-bottom-right-radius:var(--radius); }
.resize-handle:hover{ background:rgba(2,8,23,.08); opacity:.6; }
.bar{ display:flex; gap:var(--gap); align-items:center; flex-wrap:wrap; margin:8px 0; margin-top:1rem; padding-top:1rem; border-top:1px solid #eee; }
/* Doppellinien unter Titeln vermeiden: wenn direkt nach Titel, dann keine Bar-Linie */
.card > .section-title + .bar{ border-top:none; padding-top:0; margin-top:8px; }
/* Falls direkt Tabelle folgt: etwas Abstand ohne weitere Linie */
.card > .section-title + .table-wrap{ margin-top:8px; }

/* Forms */
label{ font-size:12px; color:var(--muted); display:block; margin-bottom:4px; }
/* Form controls */
input, select{ width:100%; padding:10px; border:1px solid var(--line); border-radius:var(--radius); background:#fff; color:var(--text); }
textarea{ width:100%; padding:10px; border:1px solid var(--line); border-radius:var(--radius); background:#fff; color:var(--text); }
input::placeholder, textarea::placeholder{ color: #9ca3af; }
.row{ display:flex; gap:var(--gap); align-items:center; }
.grow{ flex:1; }
button{ padding:9px 12px; border:1px solid var(--primary); background:var(--primary); color:#fff; border-radius:var(--radius); cursor:pointer; transition:.15s; }
button:hover{ background:var(--primary-600); border-color:var(--primary-600); }
button.ghost{ background:#fff; color:var(--primary); border-color:var(--line); }
button.ghost:hover{ background:rgba(14,165,233,0.08); }
button.danger{ background:var(--danger); border-color:var(--danger); }
button.danger:hover{ background:#dc2626; border-color:#dc2626; }
button:focus-visible{ outline:3px solid #93c5fd; outline-offset:2px; }
.user-badge{ display:inline-flex; align-items:center; gap:8px; padding:4px 10px; border-radius:999px; background:var(--bg); border:1px solid var(--line); font-size:12px; color:var(--text); }
.link{ color:var(--primary); cursor:pointer; text-decoration:underline; }
.dangerlink{ color:var(--danger); cursor:pointer; text-decoration:underline; }
.pill{ display:inline-flex; align-items:center; gap:6px; padding:2px 8px; border-radius:999px; border:1px solid var(--line); background:var(--bg); font-size:12px; color:var(--text); }
.muted{ color:var(--muted); }
.footer-note{ color:var(--muted); font-size:12px; margin-top:8px; }
.section-title{ margin:0 0 8px; font-size:16px; }
.grab{ color:var(--text); font-size:16px; cursor:move; user-select:none; line-height:1; }
.win-actions .grab{ margin-right:4px; }
small.hint{ color:var(--muted); display:block; margin-top:4px; }

/* Tables */
.table-wrap{ width:100%; overflow-x:auto; -webkit-overflow-scrolling:touch; border-radius:var(--radius); }
table{ width:100%; border-collapse:collapse; background:var(--surface); }
th, td{ padding:10px; border-bottom:1px solid var(--line); text-align:left; font-size:13px; }
th{ color:var(--muted); }
tbody tr:nth-child(even){ background:#fafafa; }
tbody tr:hover{ background:#f5faff; }
.hide-sm{ }
@media(max-width:640px){ .hide-sm{ display:none; } .grid.cols-2, .grid.cols-3{ grid-template-columns:1fr; } .appbar{ padding:12px; } main{ padding:12px; } }

/* Dark-mode button tweaks */
:root[data-theme="dark"] .win-btn:hover{ background:rgba(255,255,255,0.06); }

/* Fixed layout for key tables to prevent overflow/wrapping issues */
.gridtable { table-layout: fixed; }
.gridtable th, .gridtable td { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.gridtable col.c-room { width: 18%; }
.gridtable col.c-task { width: 34%; }
.gridtable col.c-int { width: 14%; }
.gridtable col.c-due { width: 14%; }
.gridtable col.c-status { width: 10%; }
.gridtable col.c-act { width: 10%; }

/* Keep long status labels on one line inside badge */
.status-open, .status-done { white-space: nowrap; }

/* Mobile bottom navigation */
.bottom-nav{ position:fixed; bottom:0; left:0; right:0; display:none; background:var(--surface); border-top:1px solid var(--line); padding:6px; gap:6px; justify-content:space-around; }
.bottom-nav .tab{ flex:1; background:var(--surface); color:var(--text); border:1px solid var(--line); }
.bottom-nav .tab.active{ border-color:var(--primary); color:#fff; background:var(--primary); }
@media(max-width:640px){ .bottom-nav{ display:flex; padding-bottom:calc(env(safe-area-inset-bottom) + 6px); } body{ padding-bottom:calc(62px + env(safe-area-inset-bottom)); } }

/* Card list for mobile */
.card-list{ display:none; }
.task-card{ border:1px solid var(--line); border-radius:12px; padding:12px; background:var(--surface); margin:10px 0; box-shadow:0 2px 6px rgba(2,8,23,.04); }
.task-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:6px; }
.task-title{ font-weight:600; }
.task-sub{ color:var(--muted); font-size:12px; }
.task-meta{ display:flex; gap:8px; flex-wrap:wrap; margin:6px 0; }
.meta-pill{ font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid var(--line); background:#f9fafb; }
.task-actions{ display:flex; gap:8px; justify-content:flex-end; flex-wrap:wrap; margin-top:8px; }
@media(max-width:640px){
  /* Hide tables on small screens for card-rendered sections */
  #tblToday, #tblOverdue{ display:none; }
  #tblToday + tbody, #tblOverdue + tbody{ display:none; }
  .card-list{ display:block; }
  /* Hide logs/acks tables on mobile */
  #tblLogs, #tblAcks{ display:none; }
}

/* Action sheet */
.sheet{ position:fixed; inset:0; background:rgba(15,23,42,0.25); display:flex; align-items:flex-end; justify-content:center; z-index:50; }
.sheet.hidden{ display:none; }
.sheet-content{ width:100%; max-width:720px; background:var(--surface); border-top-left-radius:16px; border-top-right-radius:16px; box-shadow:0 -8px 30px rgba(2,8,23,.15); padding:12px; }
.sheet-header{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:6px; }
.sheet-title{ font-weight:600; }
.sheet-body{ max-height:45vh; overflow:auto; }
.sheet-actions{ display:flex; gap:8px; justify-content:flex-end; margin-top:8px; }

/* Touch target sizes on mobile */
@media(max-width:640px){
  button, .small-button{ min-height:44px; padding:10px 14px; }
}

/* Auth */
.auth-screen{ position:fixed; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:20px; background:linear-gradient(180deg,#f0f9ff,#ffffff); z-index:9999; }
.auth-card{ width:100%; max-width:420px; background:var(--surface); border:1px solid var(--line); border-radius:12px; padding:18px; box-shadow:0 10px 24px rgba(2,8,23,.06); }
.auth-hero{ font-weight:800; font-size:clamp(36px, 6vw, 64px); color:#0f172a; letter-spacing:.5px; margin:0 0 clamp(32px, 10vh, 96px); text-align:center; }
.auth-title{ margin:0 0 6px; font-size:18px; }
.auth-sub{ margin:0 0 14px; color:var(--muted); font-size:13px; }
.input-group{ display:flex; gap:8px; align-items:stretch; }
.input-group > input{ flex:1; }
.eye-btn{ border:1px solid var(--line); background:#fff; color:var(--text); border-radius:var(--radius); padding:0 10px; }
.auth-footer{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-top:10px; flex-wrap:wrap; }
.auth-actions{ display:flex; gap:8px; flex-wrap:wrap; }

/* Status coloring (dezent) */
.status-open{ background:#fff7ed; color:#9a3412; border:1px solid #fde68a; padding:2px 8px; border-radius:999px; font-size:12px; }
.status-done{ background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; padding:2px 8px; border-radius:999px; font-size:12px; }
.row-open{ background:#fffbeb; }
.row-done{ background:#f0fdf4; }
/* Dark variants for today rows */
:root[data-theme="dark"] .row-open{ background:rgba(253,186,116,0.06); }
:root[data-theme="dark"] .row-done{ background:rgba(34,197,94,0.06); }

/* New styles from code block */
.form-group {
    margin-bottom: 1rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.3rem;
    font-size: 0.9rem;
    color: #666;
}

.form-group input,
.form-group select {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.grid {
    display: grid;
    gap: 1rem;
    margin-bottom: 1rem;
}

.cols-2 {
    grid-template-columns: repeat(2, 1fr);
}

.cols-3 {
    grid-template-columns: repeat(3, 1fr);
}

.bar {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #eee;
}

/* Disabled Button Styles */
button:disabled {
    background-color: #e5e7eb;
    border-color: #d1d5db;
    color: #9ca3af;
    cursor: not-allowed;
}

button:disabled:hover {
    background-color: #e5e7eb;
    border-color: #d1d5db;
}

.row-done button {
    background-color: #e5e7eb;
    border-color: #d1d5db;
    color: #9ca3af;
    cursor: not-allowed;
}

.comment-area {
    margin-top: 8px;
    padding: 8px;
    background: var(--bg);
    border-radius: var(--radius);
}

.comment-area textarea {
    width: 100%;
    min-height: 60px;
    margin-bottom: 8px;
    padding: 8px;
    border: 1px solid var(--line);
    border-radius: var(--radius);
    resize: vertical;
}

.comment-area textarea:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
}

.small-button {
    padding: 4px 8px;
    font-size: 12px;
}

.activity-title {
    padding: 4px;
    border-radius: var(--radius);
}

.activity-title:hover {
    background: var(--bg);
}

.comment-section {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid var(--line);
}

.comment-title {
    margin: 0 0 10px 0;
    font-size: 14px;
    color: var(--muted);
}

#globalComment {
    width: 100%;
    min-height: 80px;
    padding: 10px;
    border: 1px solid var(--line);
    border-radius: var(--radius);
    margin-bottom: 10px;
    resize: vertical;
}

/* Kommentar-Styles */
.comment-indicator {
    display: inline-flex;
    align-items: center;
    margin-left: 8px;
    padding: 2px 8px;
    background: var(--bg);
    border: 1px solid var(--line);
    border-radius: 12px;
    font-size: 12px;
    color: var(--muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.comment-indicator:hover {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
}

.comment-indicator::before {
    content: "‚úé";  /* Stift-Symbol */
    margin-right: 4px;
}

/* Bubble button to toggle comments */
.bubble-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    border-radius: 999px;
    border: 1px solid var(--primary);
    background: #fff;
    color: var(--primary);
    font-size: 12px;
    cursor: pointer;
    transition: .15s ease;
}
.bubble-btn:hover { background: var(--primary); color: #fff; border-color: var(--primary); }
.bubble-btn::before { content: "üí¨"; }

.comment-count {
    margin-left: 4px;
    font-weight: 500;
}

.comment-row {
    display: none;
    padding: 10px;
    background: var(--bg);
    border-top: 1px solid var(--line);
}

.comment-row textarea {
    width: 100%;
    min-height: 60px;
    padding: 8px;
    border: 1px solid var(--line);
    border-radius: var(--radius);
    margin-bottom: 8px;
    resize: vertical;
}

.comment-row textarea:disabled {
    background: #fff;  /* Wei√üer Hintergrund statt Grau */
    cursor: text;      /* Normaler Text-Cursor */
    opacity: 1;        /* Volle Opazit√§t */
}

.comment-actions {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
}

.comment-actions button:not(.ghost):disabled {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
    cursor: pointer;
    opacity: 1;
}

.comment-metadata {
    font-size: 0.8em;
    color: var(--muted);
    margin-top: 4px;
    padding-top: 4px;
    border-top: 1px solid var(--line);
}

.comment-history {
    margin-top: 8px;
    padding: 8px;
    background: var(--bg);
    border-radius: var(--radius);
}

.comment-entry {
    margin-bottom: 8px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--line);
}

.comment-entry:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}

/* Kommentar-Indikator f√ºr Aktivit√§ten */
.comment-indicator {
    display: inline-flex;
    align-items: center;
    margin-left: 8px;
    padding: 2px 8px;
    background: var(--bg);
    border: 1px solid var(--line);
    border-radius: 12px;
    font-size: 12px;
    color: var(--muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.comment-indicator:hover {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
}

.comment-indicator::before {
    content: "‚úé";  /* Stift-Symbol */
    margin-right: 4px;
}

.comment-count {
    margin-left: 4px;
    font-weight: 500;
}

/* Pr√ºfungen Layout */
.overdue-row {
    background: var(--surface);
    transition: background-color 0.2s ease;
}

.overdue-row:hover {
    background: var(--bg);
}

.overdue-row.has-comment {
    border-left: 3px solid var(--primary);
}

/* Kommentarbereich */
.comment-section {
    display: none;
    background: var(--bg);
    padding: 15px;
    margin-top: 0;
    border-top: 1px solid var(--line);
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.comment-textarea {
    width: 100%;
    min-height: 80px;
    padding: 10px;
    border: 1px solid var(--line);
    border-radius: var(--radius);
    margin-bottom: 10px;
    resize: vertical;
    font-family: inherit;
}

/* Kommentar Liste */
.comment-list {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid var(--line);
}

.comment-item {
    padding: 8px 0;
    border-bottom: 1px solid var(--line);
}

.comment-item:last-child {
    border-bottom: none;
}

.comment-meta {
    font-size: 12px;
    color: var(--muted);
    margin-bottom: 4px;
}

.comment-text {
    color: var(--text);
    line-height: 1.4;
}

/* Quittierungs-Status */
.ack-info {
    font-size: 12px;
    color: var(--muted);
    padding: 8px;
    background: #f8fafc;
    border-radius: var(--radius);
    margin-top: 10px;
}

/* Buttons */
.comment-btn {
    background: var(--primary);
    color: white;
    padding: 6px 12px;
    border-radius: var(--radius);
    font-size: 13px;
    border: 1px solid var(--primary);
    cursor: pointer;
    transition: all 0.2s ease;
}

.comment-btn:hover {
    background: var(--primary-600);
}

.comment-btn:disabled {
    background: var(--line);
    border-color: var(--line);
    cursor: not-allowed;
}

/* Quittieren: identisch wie Erledigt (blau) */
.quit-btn {
    background: var(--primary);
    border-color: var(--primary);
    color: #fff;
}

.quit-btn:hover {
    background: var(--primary-600);
    border-color: var(--primary-600);
}

/* Status Badge */
.status-badge {
    display: inline-flex;
    align-items: center;
    padding: 2px 8px;
    border-radius: 999px;
    font-size: 12px;
}

.status-open {
    background: #fff7ed;
    color: #9a3412;
    border: 1px solid #fed7aa;
}

.status-quit {
    background: #f0fdf4;
    color: #166534;
    border: 1px solid #86efac;
}

/* Animation f√ºr Kommentarbereich */
.comment-section.visible {
    display: block;
    animation: slideDown 0.3s ease-out;
}

.comment-section.hidden {
    display: none;
    animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-10px);
    }
}
/* Tabs for Dashboard */
.tabs{ display:flex; gap:8px; margin:6px 0 10px; }
.tabs .tab.small{ padding:6px 10px; border:1px solid var(--line); background:var(--surface); color:var(--text); border-radius:999px; font-size:12px; position:relative; }
.tabs .tab.small.active{ background:var(--primary); color:#fff; border-color:var(--primary); }
.tabs .tab.small.filtered{ background:var(--primary); color:#fff; border-color:var(--primary); }
.tabs .tab.small .mode{ font-weight:600; margin-left:6px; opacity:.9; }
.ana-panel{ margin-top:8px; }
.kpi-grid{ display:grid; grid-template-columns:repeat(4, minmax(160px,1fr)); gap:10px; margin:10px 0; }
.kpi{ border:1px solid var(--line); border-radius:10px; padding:10px; background:var(--surface); }
.kpi.active{ border-color: var(--primary); box-shadow: inset 0 0 0 2px rgba(14,165,233,0.15); }
.kpi.active{ border-color: var(--primary); box-shadow: inset 0 0 0 2px rgba(14,165,233,0.15); }
.kpi .kv{ font-size:22px; font-weight:700; }
.kpi .kt{ font-size:12px; color:var(--muted); }
@media(max-width:640px){ .kpi-grid{ grid-template-columns:repeat(2,1fr); } }

/* Dashboard dataset filter chips */
.dash-filter{ display:flex; gap:8px; flex-wrap:wrap; margin:6px 0 10px; }
.chip{ padding:6px 10px; border-radius:999px; border:1px solid var(--line); background:#fff; color:var(--text); font-size:12px; cursor:pointer; }
.chip.active{ background:var(--primary); color:#fff; border-color:var(--primary); }

. . .
.chip.active{ background:var(--primary); color:#fff; border-color:var(--primary); }

/* === Dark Mode support (manual + system) === */

/* 1) Manual theme via data-theme on <html> (documentElement) */
:root[data-theme="dark"]{
  --bg:#0b1220;
  --surface:#0f172a;
  --text:#e5eaf3;
  --line:#1f2937;
  --muted:#94a3b8;
  --primary:#38bdf8;
  --primary-600:#0ea5e9;
  --danger:#ef4444;
}

/* 2) Respect system preference if no manual override is set
   (applies when data-theme is missing) */
@media (prefers-color-scheme: dark){
  :root:not([data-theme]){
    --bg:#0b1220;
    --surface:#0f172a;
    --text:#e5eaf3;
    --line:#1f2937;
    --muted:#94a3b8;
    --primary:#38bdf8;
    --primary-600:#0ea5e9;
    --danger:#ef4444;
  }
}

/* Subtle tweaks for dark tables and cards */
:root[data-theme="dark"] table,
:root[data-theme="dark"] .card{ background:var(--surface); }
:root[data-theme="dark"] tbody tr:nth-child(even){ background:#0c1528; }
:root[data-theme="dark"] tbody tr:hover{ background:#0d1b31; }

/* Status badges in dark for better contrast */
:root[data-theme="dark"] .status-open{ background:rgba(253,186,116,0.12); color:#fdba74; border-color:rgba(253,186,116,0.35); }
:root[data-theme="dark"] .status-done{ background:rgba(34,197,94,0.12); color:#86efac; border-color:rgba(134,239,172,0.35); }

/* Link/inline states in dark mode */
:root[data-theme="dark"] .link{ color:var(--primary); text-decoration:underline; }
:root[data-theme="dark"] .dangerlink{ color:#f87171; }

/* Form controls in dark mode */
:root[data-theme="dark"] input,
:root[data-theme="dark"] select,
:root[data-theme="dark"] textarea{
  background:#0d1b31;
  border-color:#334155;
  color:var(--text);
}
:root[data-theme="dark"] input::placeholder,
:root[data-theme="dark"] textarea::placeholder{ color:#64748b; }

/* Ghost buttons in dark mode */
:root[data-theme="dark"] button.ghost{ background:transparent; color:var(--primary); border-color:#334155; }
:root[data-theme="dark"] button.ghost:hover{ background:rgba(56,189,248,0.08); }

/* Disabled buttons in dark mode */
:root[data-theme="dark"] button:disabled{
  background-color:#1f2937;
  border-color:#334155;
  color:#64748b;
}

/* 3) Theme toggle button (stroke-only sun/moon) */
.theme-toggle{ display:inline-flex; align-items:center; justify-content:center; width:34px; height:34px; border:1px solid var(--line); background:transparent; border-radius:999px; cursor:pointer; color:var(--text); }
.theme-toggle:hover{ background:rgba(2,8,23,0.06); }

.theme-icon{ width:18px; height:18px; display:block; color:inherit; }
.theme-icon svg{ width:100%; height:100%; fill:none; stroke:currentColor; stroke-width:2.2; }

/* Optional: make appbar place for the toggle if needed */
.appbar .theme-toggle{ margin-left:4px; }

/* Dark-mode specific hover for toggle */
:root[data-theme="dark"] .theme-toggle:hover{ background:rgba(255,255,255,0.06); }

/* Element-spezifische Dark-Styles auch f√ºr Auto (System-Dark) */
@media (prefers-color-scheme: dark){
  :root:not([data-theme]) table,
  :root:not([data-theme]) .card{ background:var(--surface); }
  :root:not([data-theme]) tbody tr:nth-child(even){ background:#0c1528; }
  :root:not([data-theme]) tbody tr:hover{ background:#0d1b31; }

  :root:not([data-theme]) input,
  :root:not([data-theme]) select,
  :root:not([data-theme]) textarea{
    background:#0d1b31;
    border-color:#334155;
    color:var(--text);
  }
  :root:not([data-theme]) input::placeholder,
  :root:not([data-theme]) textarea::placeholder{ color:#64748b; }

  :root:not([data-theme]) button.ghost{ background:transparent; color:var(--primary); border-color:#334155; }
  :root:not([data-theme]) button.ghost:hover{ background:rgba(56,189,248,0.08); }

  :root:not([data-theme]) button:disabled{
    background-color:#1f2937;
    border-color:#334155;
    color:#64748b;
  }

  :root:not([data-theme]) .status-open{ background:rgba(253,186,116,0.12); color:#fdba74; border-color:rgba(253,186,116,0.35); }
  :root:not([data-theme]) .status-done{ background:rgba(34,197,94,0.12); color:#86efac; border-color:rgba(134,239,172,0.35); }

  :root:not([data-theme]) .theme-toggle:hover{ background:rgba(255,255,255,0.06); }

  :root:not([data-theme]) .row-open{ background:rgba(253,186,116,0.06); }
  :root:not([data-theme]) .row-done{ background:rgba(34,197,94,0.06); }
}
